<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CALICE_USERLIB: CALICE::ConditionsDataWriteHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceCALICE.html">CALICE</a>::<a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html">ConditionsDataWriteHandler</a>
  </div>
</div>
<div class="contents">
<h1>CALICE::ConditionsDataWriteHandler Class Reference</h1><!-- doxytag: class="CALICE::ConditionsDataWriteHandler" -->
<p>Handler of conditions data changes which writes the replaced collections to a conditions data base.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ConditionsDataWriteHandler_8hh_source.html">ConditionsDataWriteHandler.hh</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#ae0e0b43ca010d9a424f962480175b110">ConditionsDataWriteHandler</a> (const std::string &amp;col_name, const std::string &amp;db_init_string, const std::string &amp;folder_name, const std::string &amp;tag, const std::string &amp;description)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">constructor.  <a href="#ae0e0b43ca010d9a424f962480175b110"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a581dea40c8faa28948c8cb461d9126dc"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::~ConditionsDataWriteHandler" ref="a581dea40c8faa28948c8cb461d9126dc" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a581dea40c8faa28948c8cb461d9126dc">~ConditionsDataWriteHandler</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">destructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a0289e54f162d87125bce02b71dc46b51">conditionsChanged</a> (lcio::LCCollection *col)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Be notified if conditions data changes and redirect changes to responsible class.  <a href="#a0289e54f162d87125bce02b71dc46b51"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a139623a650f56c24a5d32658da9af09b">writeConditionsData</a> (const long64 &amp;best_guess_of_till_time_stamp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write the conditions data to the conditions database.  <a href="#a139623a650f56c24a5d32658da9af09b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#aaac4f4263bbfb7a38cfbf0cb6c6ef99b">setSinceTime</a> (long64 since_time)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the correct since time for the current conditions data.  <a href="#aaac4f4263bbfb7a38cfbf0cb6c6ef99b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a578e53e8c53ee791d1ab574811551496"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::name" ref="a578e53e8c53ee791d1ab574811551496" args="() const " -->
const std::string &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>name</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a535ca783c3475b0cbacd99484c4e4229"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::numberOfWrites" ref="a535ca783c3475b0cbacd99484c4e4229" args="() const " -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a535ca783c3475b0cbacd99484c4e4229">numberOfWrites</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of collections written to the database;. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae53d14eec368dc28b8bc5dcb73ed2d01"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::changes" ref="ae53d14eec368dc28b8bc5dcb73ed2d01" args="() const " -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#ae53d14eec368dc28b8bc5dcb73ed2d01">changes</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of recognised changes of the conditions data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1899ab4669280acec16c6baa53e6abc3"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::validAtMostSince" ref="a1899ab4669280acec16c6baa53e6abc3" args="() const " -->
long64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a1899ab4669280acec16c6baa53e6abc3">validAtMostSince</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the time of the first recognised conditions data change. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a487fe71c6d796b46dac6dd7ea16eb917"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::validAtMostTill" ref="a487fe71c6d796b46dac6dd7ea16eb917" args="() const " -->
long64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a487fe71c6d796b46dac6dd7ea16eb917">validAtMostTill</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the time of the last write to the data base. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac3a420cb581ed9519e06e795dd13ac9a"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::currentValidSince" ref="ac3a420cb581ed9519e06e795dd13ac9a" args="() const " -->
long64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#ac3a420cb581ed9519e06e795dd13ac9a">currentValidSince</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the time of the first recognised conditions data change. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7cae6dc5fd78a5aa243bb589ba4c7caa"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::currentValidTill" ref="a7cae6dc5fd78a5aa243bb589ba4c7caa" args="() const " -->
long64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a7cae6dc5fd78a5aa243bb589ba4c7caa">currentValidTill</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the time of the last write to the data base. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e14961a4bf03b6282f2b59fe87790fa"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::getTag" ref="a3e14961a4bf03b6282f2b59fe87790fa" args="() const " -->
const std::string &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>getTag</b> () const </td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e065bb6ab09b579ce20f7dbbbdf07a2"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::_colName" ref="a7e065bb6ab09b579ce20f7dbbbdf07a2" args="" -->
const std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a7e065bb6ab09b579ce20f7dbbbdf07a2">_colName</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">name of the collection (not used) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94ae745611b1bff4441eab7677c408c1"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::_db" ref="a94ae745611b1bff4441eab7677c408c1" args="" -->
lccd::DBInterface&nbsp;</td><td class="memItemRight" valign="bottom"><b>_db</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3a20bce4a053386c2d4f786653438f38"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::_changeHandler" ref="a3a20bce4a053386c2d4f786653438f38" args="" -->
lccd::IConditionsHandler *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a3a20bce4a053386c2d4f786653438f38">_changeHandler</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">handler of the conditions data <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62de4dca742011f4fdb976d4bb3abee2"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::_tag" ref="a62de4dca742011f4fdb976d4bb3abee2" args="" -->
const std::string&nbsp;</td><td class="memItemRight" valign="bottom"><b>_tag</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a01342556e5b2c4916dbb3d3705dd0af3"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::_description" ref="a01342556e5b2c4916dbb3d3705dd0af3" args="" -->
const std::string&nbsp;</td><td class="memItemRight" valign="bottom"><b>_description</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#ae9c2172504130f906f18d6459823d62b">_since</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the time of the event just before the conditions data changed.  <a href="#ae9c2172504130f906f18d6459823d62b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a3867ef683d994f3ab4a00b2ef7ae410c">_till</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Best guess of the till time stamp (may be wrong).  <a href="#a3867ef683d994f3ab4a00b2ef7ae410c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">LCCollection *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a8db218626a224e54f964cf46054890cb">_col</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to the clone of the conditions data collection.  <a href="#a8db218626a224e54f964cf46054890cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a3f95dd0e4ec24fbd1d4df217a679191d">_changes</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">keep track of the number of changes.  <a href="#a3f95dd0e4ec24fbd1d4df217a679191d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#aafdf1c7e91d569aed9cf422cd77d8fb6">_writes</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">keep track of the number of conditions data written to the database.  <a href="#aafdf1c7e91d569aed9cf422cd77d8fb6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8076fe1b19e269527fa769de5a88a65e"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::_first" ref="a8076fe1b19e269527fa769de5a88a65e" args="" -->
long64&nbsp;</td><td class="memItemRight" valign="bottom"><b>_first</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5debaace61a41f99d2df0ce318c036bf"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::_last" ref="a5debaace61a41f99d2df0ce318c036bf" args="" -->
long64&nbsp;</td><td class="memItemRight" valign="bottom"><b>_last</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Handler of conditions data changes which writes the replaced collections to a conditions data base. </p>
<p>When ever conditions data changes the old (cloned) collection will be stored with the time stamps of the event just before the former conditions data change and the time stamp of the last event. At the end of the run, the conditions data has to be written manually by calling <a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a139623a650f56c24a5d32658da9af09b">writeConditionsData()</a> with the time stamp of the last event. </p>

<p>Definition at line <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00040">40</a> of file <a class="el" href="ConditionsDataWriteHandler_8hh_source.html">ConditionsDataWriteHandler.hh</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae0e0b43ca010d9a424f962480175b110"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::ConditionsDataWriteHandler" ref="ae0e0b43ca010d9a424f962480175b110" args="(const std::string &amp;col_name, const std::string &amp;db_init_string, const std::string &amp;folder_name, const std::string &amp;tag, const std::string &amp;description)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CALICE::ConditionsDataWriteHandler::ConditionsDataWriteHandler </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>col_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>db_init_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>folder_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>description</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>col_name</em>&nbsp;</td><td>the name of the to be monitored collection (not needed). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>db_init_string</em>&nbsp;</td><td>specifier of the database host name, database name, user and password. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>folder_name</em>&nbsp;</td><td>name of the destination folder. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tag</em>&nbsp;</td><td>to be applied at the end of the run to the folder. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>description</em>&nbsp;</td><td>the description added to every collection written toe the data base. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00015">15</a> of file <a class="el" href="ConditionsDataWriteHandler_8cc_source.html">ConditionsDataWriteHandler.cc</a>.</p>

<p>References <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00114">_changeHandler</a>, <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00111">_colName</a>, <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00119">_since</a>, and <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00120">_till</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0289e54f162d87125bce02b71dc46b51"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::conditionsChanged" ref="a0289e54f162d87125bce02b71dc46b51" args="(lcio::LCCollection *col)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALICE::ConditionsDataWriteHandler::conditionsChanged </td>
          <td>(</td>
          <td class="paramtype">lcio::LCCollection *&nbsp;</td>
          <td class="paramname"> <em>col</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Be notified if conditions data changes and redirect changes to responsible class. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>col</em>&nbsp;</td><td>the collection containing the new conditions data </td></tr>
  </table>
  </dd>
</dl>

<p><p>if (_changeHandler) { </p>
</p>

<p>Definition at line <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00059">59</a> of file <a class="el" href="ConditionsDataWriteHandler_8cc_source.html">ConditionsDataWriteHandler.cc</a>.</p>

<p>References <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00114">_changeHandler</a>, <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00124">_changes</a>, <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00121">_col</a>, <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00111">_colName</a>, <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00119">_since</a>, <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00120">_till</a>, <a class="el" href="cloneUtils_8cc_source.html#l00032">CALICE::cloneCollection()</a>, and <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00112">writeConditionsData()</a>.</p>

</div>
</div>
<a class="anchor" id="aaac4f4263bbfb7a38cfbf0cb6c6ef99b"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::setSinceTime" ref="aaac4f4263bbfb7a38cfbf0cb6c6ef99b" args="(long64 since_time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALICE::ConditionsDataWriteHandler::setSinceTime </td>
          <td>(</td>
          <td class="paramtype">long64&nbsp;</td>
          <td class="paramname"> <em>since_time</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the correct since time for the current conditions data. </p>
<p>The since time will be initialised by the time of the last event. But this is just too early. So, the <a class="el" href="classmarlin_1_1ConditionsDataWriter.html">marlin::ConditionsDataWriter</a> has to set the time of the next event. </p>

<p>Definition at line <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00078">78</a> of file <a class="el" href="ConditionsDataWriteHandler_8hh_source.html">ConditionsDataWriteHandler.hh</a>.</p>

<p>References <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00119">_since</a>.</p>

</div>
</div>
<a class="anchor" id="a139623a650f56c24a5d32658da9af09b"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::writeConditionsData" ref="a139623a650f56c24a5d32658da9af09b" args="(const long64 &amp;best_guess_of_till_time_stamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALICE::ConditionsDataWriteHandler::writeConditionsData </td>
          <td>(</td>
          <td class="paramtype">const long64 &amp;&nbsp;</td>
          <td class="paramname"> <em>best_guess_of_till_time_stamp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>write the conditions data to the conditions database. </p>
<p>Must be called at the end of the run to </p>

<p>Definition at line <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00112">112</a> of file <a class="el" href="ConditionsDataWriteHandler_8cc_source.html">ConditionsDataWriteHandler.cc</a>.</p>

<p>References <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00121">_col</a>, <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00111">_colName</a>, <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00119">_since</a>, and <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00126">_writes</a>.</p>

<p>Referenced by <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00059">conditionsChanged()</a>.</p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a3f95dd0e4ec24fbd1d4df217a679191d"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::_changes" ref="a3f95dd0e4ec24fbd1d4df217a679191d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a3f95dd0e4ec24fbd1d4df217a679191d">CALICE::ConditionsDataWriteHandler::_changes</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>keep track of the number of changes. </p>

<p>Definition at line <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00124">124</a> of file <a class="el" href="ConditionsDataWriteHandler_8hh_source.html">ConditionsDataWriteHandler.hh</a>.</p>

<p>Referenced by <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00059">conditionsChanged()</a>.</p>

</div>
</div>
<a class="anchor" id="a8db218626a224e54f964cf46054890cb"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::_col" ref="a8db218626a224e54f964cf46054890cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LCCollection* <a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a8db218626a224e54f964cf46054890cb">CALICE::ConditionsDataWriteHandler::_col</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pointer to the clone of the conditions data collection. </p>

<p>Definition at line <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00121">121</a> of file <a class="el" href="ConditionsDataWriteHandler_8hh_source.html">ConditionsDataWriteHandler.hh</a>.</p>

<p>Referenced by <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00059">conditionsChanged()</a>, <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00112">writeConditionsData()</a>, and <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00059">~ConditionsDataWriteHandler()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9c2172504130f906f18d6459823d62b"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::_since" ref="ae9c2172504130f906f18d6459823d62b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long64 <a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#ae9c2172504130f906f18d6459823d62b">CALICE::ConditionsDataWriteHandler::_since</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the time of the event just before the conditions data changed. </p>

<p>Definition at line <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00119">119</a> of file <a class="el" href="ConditionsDataWriteHandler_8hh_source.html">ConditionsDataWriteHandler.hh</a>.</p>

<p>Referenced by <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00059">conditionsChanged()</a>, <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00015">ConditionsDataWriteHandler()</a>, <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00100">currentValidSince()</a>, <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00078">setSinceTime()</a>, and <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00112">writeConditionsData()</a>.</p>

</div>
</div>
<a class="anchor" id="a3867ef683d994f3ab4a00b2ef7ae410c"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::_till" ref="a3867ef683d994f3ab4a00b2ef7ae410c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long64 <a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#a3867ef683d994f3ab4a00b2ef7ae410c">CALICE::ConditionsDataWriteHandler::_till</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Best guess of the till time stamp (may be wrong). </p>

<p>Definition at line <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00120">120</a> of file <a class="el" href="ConditionsDataWriteHandler_8hh_source.html">ConditionsDataWriteHandler.hh</a>.</p>

<p>Referenced by <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00059">conditionsChanged()</a>, <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00015">ConditionsDataWriteHandler()</a>, and <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00104">currentValidTill()</a>.</p>

</div>
</div>
<a class="anchor" id="aafdf1c7e91d569aed9cf422cd77d8fb6"></a><!-- doxytag: member="CALICE::ConditionsDataWriteHandler::_writes" ref="aafdf1c7e91d569aed9cf422cd77d8fb6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classCALICE_1_1ConditionsDataWriteHandler.html#aafdf1c7e91d569aed9cf422cd77d8fb6">CALICE::ConditionsDataWriteHandler::_writes</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>keep track of the number of conditions data written to the database. </p>

<p>Definition at line <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00126">126</a> of file <a class="el" href="ConditionsDataWriteHandler_8hh_source.html">ConditionsDataWriteHandler.hh</a>.</p>

<p>Referenced by <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00088">changes()</a>, <a class="el" href="ConditionsDataWriteHandler_8hh_source.html#l00084">numberOfWrites()</a>, and <a class="el" href="ConditionsDataWriteHandler_8cc_source.html#l00112">writeConditionsData()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ConditionsDataWriteHandler_8hh_source.html">ConditionsDataWriteHandler.hh</a></li>
<li><a class="el" href="ConditionsDataWriteHandler_8cc_source.html">ConditionsDataWriteHandler.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Dec 2017 for CALICE_USERLIB by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
