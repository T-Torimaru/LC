<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CALICE_USERLIB: ScintCaloSlowReadoutModBlock.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_36843d1d4246be2b2ac1dd04c3c30114.html">calice_userlib</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_57be4fcabe5c93cdea47fb40369601ff.html">include</a>
  </div>
</div>
<div class="contents">
<h1>ScintCaloSlowReadoutModBlock.hh</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef ScintCaloSlowReadoutModBlock_hh</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define ScintCaloSlowReadoutModBlock_hh 1</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &quot;lcio.h&quot;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;LCGenericObjectImplExt.hh&quot;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &quot;UTIL/LCTime.h&quot;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;collection_names.hh&quot;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;sys/time.h&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#ifdef VALUE_CHECK</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#  include &lt;cassert&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#endif</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span>
<a name="l00015"></a>00015 <span class="keyword">using namespace </span>lcio;
<a name="l00016"></a>00016 <span class="keyword">using namespace </span>std;
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="keyword">namespace </span>CALICE {
<a name="l00020"></a>00020 
<a name="l00021"></a>00021  
<a name="l00023"></a><a class="code" href="namespaceCALICE.html#a3e5e6d5badfe7d664c707772da688021">00023</a>   <span class="keyword">typedef</span> std::map&lt;std::string, std::vector&lt;double&gt; &gt; <a class="code" href="namespaceCALICE.html#a3e5e6d5badfe7d664c707772da688021" title="The map which contains the measured values of the different types.">ScintCaloSlowMeasuresDblMap_t</a>;   
<a name="l00024"></a>00024   <span class="keyword">typedef</span> std::map&lt;std::string, std::vector&lt;int&gt; &gt; ScintCaloSlowMeasuresIntMap_t;   
<a name="l00025"></a>00025   <span class="keyword">typedef</span> std::map&lt;std::string, std::vector&lt;float&gt; &gt; ScintCaloSlowMeasuresFloatMap_t;   
<a name="l00026"></a>00026 
<a name="l00029"></a>00029   <span class="comment">/*enum ScintCaloSroModIntValues {kIntSroModModNumber, kIntSroModTimeStampymd, kIntSroModTimeStamphms,</span>
<a name="l00030"></a>00030 <span class="comment">                           kIntSroModLedSetting,</span>
<a name="l00031"></a>00031 <span class="comment">                           kIntSroModCmbWidth, </span>
<a name="l00032"></a>00032 <span class="comment">                           kIntSroModCmbHeight,</span>
<a name="l00033"></a>00033 <span class="comment">                           kIntSroModPosCmbTemps, </span>
<a name="l00034"></a>00034 <span class="comment">                           kIntSroModPosCmbVolts=kIntSroModPosCmbTemps+2, </span>
<a name="l00035"></a>00035 <span class="comment">                           kIntSroModPosCmbVals=kIntSroModPosCmbVolts+2,</span>
<a name="l00036"></a>00036 <span class="comment">                           kIntSroModPosHbabTemps=kIntSroModPosCmbVals+2, </span>
<a name="l00037"></a>00037 <span class="comment">                           kIntSroModPosHbabVolts=kIntSroModPosHbabTemps+2, </span>
<a name="l00038"></a>00038 <span class="comment">                           kIntSroModIntValues};</span>
<a name="l00039"></a>00039 <span class="comment">  */</span> 
<a name="l00040"></a>00040 
<a name="l00041"></a><a class="code" href="namespaceCALICE.html#ae1b39acb00f2fb813c53e81e91a67ba9">00041</a>   <span class="keyword">enum</span> <a class="code" href="namespaceCALICE.html#ae1b39acb00f2fb813c53e81e91a67ba9" title="The indices of the the stored values.">ScintCaloSroModIntValues</a> {kIntSroModModNumber, kIntSroModTimeStampymd, kIntSroModTimeStamphms,
<a name="l00042"></a>00042                                  kIntSroModLedSetting,
<a name="l00043"></a>00043                                  kIntSroModCmbWidth, 
<a name="l00044"></a>00044                                  kIntSroModCmbHeight,
<a name="l00045"></a>00045                                  kIntSroModPosCmbTemps, 
<a name="l00046"></a>00046                                  kIntSroModPosCmbVolts=kIntSroModPosCmbTemps+2,
<a name="l00047"></a>00047                                  kIntSroModPosHbabVolts=kIntSroModPosCmbVolts+6};
<a name="l00048"></a>00048   
<a name="l00049"></a>00049  
<a name="l00050"></a>00050   <span class="comment">//double values</span>
<a name="l00051"></a>00051   <span class="comment">//enum ScintCaloSroModDblValues{kIntSroModDblValues}; </span>
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 
<a name="l00054"></a>00054   <span class="comment">//for completeness</span>
<a name="l00055"></a>00055   <span class="comment">//enum ScintCaloSroModFloatValues{kIntSroModFloatValues};   </span>
<a name="l00056"></a>00056 
<a name="l00071"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html">00071</a>   <span class="keyword">class </span><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html" title="Interface Class to access the ScintCaloSlowReadout Data Here we handle ahc voltages...">ScintCaloSlowReadoutModBlock</a> : <span class="keyword">public</span> <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html" title="Extends functionality of the LCGenericObjectImpl Class It simply adds a new constructor...">LCGenericObjectImplExt</a> {
<a name="l00072"></a>00072     
<a name="l00073"></a>00073 
<a name="l00074"></a>00074   <span class="keyword">public</span>: 
<a name="l00075"></a>00075     
<a name="l00077"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ab834a2fccae23cd39719726717202430">00077</a>     <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ab834a2fccae23cd39719726717202430" title="Constructor.">ScintCaloSlowReadoutModBlock</a>() {
<a name="l00078"></a>00078       <span class="comment">//do some initialization</span>
<a name="l00079"></a>00079       <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a36f9f3ef8cd7e14db5cfa7c31cd49bbb" title="Store the module number.">setModuleNumber</a>(0);  
<a name="l00080"></a>00080       <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ad8af8337174df19ab06d26518c0c4d57" title="Sets the time stamp We store Year, Month, Day and Hour, Minute, Second We store UTC!!!!...">setTimeStamp</a>(NULL);
<a name="l00081"></a>00081       <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a42eda9586c276839882ec1f5529cb3b1" title="Store the LED setting.">setLedSetting</a>(0);
<a name="l00082"></a>00082       <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#aca38297405bcbb78df316573653bab4b" title="Store the CMB width.">setCmbWidth</a>(0); 
<a name="l00083"></a>00083       <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a5b818c27aaaf267d158a4630217761b3" title="Store the CMB height.">setCmbHeight</a>(0);
<a name="l00084"></a>00084 
<a name="l00085"></a>00085       <span class="comment">//Reset the output vectors</span>
<a name="l00086"></a>00086       <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ac82c110e1e9a6b9e5777bab38b664381" title="The output vectors which are common to all data types cmb Temperatures.">_cmbTemperatures</a>.resize(0);
<a name="l00087"></a>00087       <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#afeb1bd98453813e87c093badf29ee0e3" title="cmb Voltages">_cmbVoltages</a>.resize(0);
<a name="l00088"></a>00088       <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#acd246a5dcd8786a5105f055087fce3a9" title="hbab voltages">_hbabVoltages</a>.resize(0);
<a name="l00089"></a>00089 
<a name="l00090"></a>00090       <span class="comment">//Loop over the map with the defined types and initialize the</span>
<a name="l00091"></a>00091       <span class="comment">//position in the LCIO tuple and number values to -1</span>
<a name="l00092"></a>00092       <span class="comment">//initialize the dbl values</span>
<a name="l00093"></a>00093       <span class="keywordflow">for</span> ( ScintCaloSroTypesDblMap_t::iterator types_iter = <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ad686569c2554ac08105baba87a310036" title="The vector which contains the types and to the position and values of the types doubles...">_theDblTypes</a>.begin(); types_iter != <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ad686569c2554ac08105baba87a310036" title="The vector which contains the types and to the position and values of the types doubles...">_theDblTypes</a>.end(); types_iter++) <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a0952a8404091ec428442f58621c9af6c" title="Store the position and number of measured values for a given datatype.">setNumPos</a>( (*types_iter).second.first, -1 , -1); 
<a name="l00094"></a>00094       <span class="comment">//initialize the int values</span>
<a name="l00095"></a>00095       <span class="keywordflow">for</span> ( ScintCaloSroTypesIntMap_t::iterator types_iter = _theIntTypes.begin(); types_iter != _theIntTypes.end(); types_iter++) <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a0952a8404091ec428442f58621c9af6c" title="Store the position and number of measured values for a given datatype.">setNumPos</a>( (*types_iter).second.first, -1 , -1); 
<a name="l00096"></a>00096       <span class="comment">//initialize the float values</span>
<a name="l00097"></a>00097       <span class="keywordflow">for</span> ( ScintCaloSroTypesFloatMap_t::iterator types_iter = _theFloatTypes.begin(); types_iter != _theFloatTypes.end(); types_iter++) <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a0952a8404091ec428442f58621c9af6c" title="Store the position and number of measured values for a given datatype.">setNumPos</a>( (*types_iter).second.first, -1 , -1); 
<a name="l00098"></a>00098       
<a name="l00099"></a>00099       
<a name="l00100"></a>00100     };
<a name="l00101"></a>00101     
<a name="l00102"></a>00102     
<a name="l00105"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a29b112518865415379a7aece4041954a">00105</a>     <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a29b112518865415379a7aece4041954a" title="&amp;#39;Copy constructor&amp;#39; needed to interpret LCCollection read from file/database...">ScintCaloSlowReadoutModBlock</a>(LCObject* <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>) : <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html" title="Extends functionality of the LCGenericObjectImpl Class It simply adds a new constructor...">LCGenericObjectImplExt</a>(obj) { 
<a name="l00106"></a>00106       <span class="comment">//Reset the output vectors</span>
<a name="l00107"></a>00107       <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ac82c110e1e9a6b9e5777bab38b664381" title="The output vectors which are common to all data types cmb Temperatures.">_cmbTemperatures</a>.resize(0);
<a name="l00108"></a>00108       <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#afeb1bd98453813e87c093badf29ee0e3" title="cmb Voltages">_cmbVoltages</a>.resize(0);
<a name="l00109"></a>00109       <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#acd246a5dcd8786a5105f055087fce3a9" title="hbab voltages">_hbabVoltages</a>.resize(0);
<a name="l00110"></a>00110     } 
<a name="l00111"></a>00111     
<a name="l00112"></a>00112     
<a name="l00114"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a36f9f3ef8cd7e14db5cfa7c31cd49bbb">00114</a>     <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html" title="Interface Class to access the ScintCaloSlowReadout Data Here we handle ahc voltages...">ScintCaloSlowReadoutModBlock</a> &amp; <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a36f9f3ef8cd7e14db5cfa7c31cd49bbb" title="Store the module number.">setModuleNumber</a>(<span class="keywordtype">int</span> modnumber) {
<a name="l00115"></a>00115       <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>()-&gt;setIntVal(kIntSroModModNumber, modnumber);
<a name="l00116"></a>00116       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00117"></a>00117       }
<a name="l00118"></a>00118     
<a name="l00120"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#aae514d6565c060a46027fa1894b3f7a2">00120</a>     <span class="keywordtype">int</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#aae514d6565c060a46027fa1894b3f7a2" title="Retrieve the module number.">getModuleNumber</a>()<span class="keyword"> const </span>{
<a name="l00121"></a>00121       <span class="keywordflow">return</span> getIntVal(kIntSroModModNumber);
<a name="l00122"></a>00122       };  
<a name="l00123"></a>00123     
<a name="l00124"></a>00124     
<a name="l00129"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ad8af8337174df19ab06d26518c0c4d57">00129</a>     <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html" title="Interface Class to access the ScintCaloSlowReadout Data Here we handle ahc voltages...">ScintCaloSlowReadoutModBlock</a>&amp; <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ad8af8337174df19ab06d26518c0c4d57" title="Sets the time stamp We store Year, Month, Day and Hour, Minute, Second We store UTC!!!!...">setTimeStamp</a>(<span class="keyword">struct</span> tm* timestamp) 
<a name="l00130"></a>00130     {
<a name="l00131"></a>00131       
<a name="l00132"></a>00132       <span class="comment">//Timestamp year month day</span>
<a name="l00133"></a>00133       <span class="keywordflow">if</span>(timestamp) {
<a name="l00134"></a>00134         <span class="keywordtype">int</span> timestampymd(0);
<a name="l00135"></a>00135         timestampymd = timestampymd | ( ( (timestamp-&gt;tm_year + TM_YEARSTART) &amp; 0xffff) &lt;&lt; YEARSHIFT) 
<a name="l00136"></a>00136           | ( ( (timestamp-&gt;tm_mon + 1) &amp; 0xff) &lt;&lt; MONTHSHIFT)
<a name="l00137"></a>00137           | ( (  timestamp-&gt;tm_mday &amp; 0xff) &lt;&lt; DAYSHIFT);  
<a name="l00138"></a>00138         
<a name="l00139"></a>00139         
<a name="l00140"></a>00140         <span class="comment">//Timestamp hour minute second</span>
<a name="l00141"></a>00141         <span class="keywordtype">int</span> timestamphms(0);
<a name="l00142"></a>00142         timestamphms = timestamphms | ( (timestamp-&gt;tm_hour &amp; 0xff) &lt;&lt; HOURSHIFT)
<a name="l00143"></a>00143           | ( (timestamp-&gt;tm_min  &amp; 0xff) &lt;&lt; MINUTESHIFT)
<a name="l00144"></a>00144           | ( (timestamp-&gt;tm_sec  &amp; 0xff) &lt;&lt; SECONDSHIFT);  
<a name="l00145"></a>00145         
<a name="l00146"></a>00146         
<a name="l00147"></a>00147         <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>()-&gt;setIntVal(kIntSroModTimeStampymd, timestampymd);
<a name="l00148"></a>00148         <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>()-&gt;setIntVal(kIntSroModTimeStamphms, timestamphms);
<a name="l00149"></a>00149       } <span class="keywordflow">else</span> {
<a name="l00150"></a>00150         <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>()-&gt;setIntVal(kIntSroModTimeStampymd, 0);
<a name="l00151"></a>00151         <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>()-&gt;setIntVal(kIntSroModTimeStamphms, 0);
<a name="l00152"></a>00152         
<a name="l00153"></a>00153         
<a name="l00154"></a>00154       }
<a name="l00155"></a>00155 
<a name="l00156"></a>00156       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00157"></a>00157     }
<a name="l00158"></a>00158     
<a name="l00159"></a>00159     
<a name="l00162"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ac5afba15cabcb0e76cd05eb61acd8a16">00162</a>     LCTime <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ac5afba15cabcb0e76cd05eb61acd8a16" title="returns the start stamp">getTimeStamp</a>() 
<a name="l00163"></a>00163     {
<a name="l00164"></a>00164       
<a name="l00165"></a>00165       <span class="keywordtype">int</span> timestampymd(<a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>()-&gt;getIntVal(kIntSroModTimeStampymd));
<a name="l00166"></a>00166       <span class="keywordtype">int</span> timestamphms(<a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>()-&gt;getIntVal(kIntSroModTimeStamphms));
<a name="l00167"></a>00167       
<a name="l00168"></a>00168       <span class="comment">//composition of an intermediate LCTime object in order</span>
<a name="l00169"></a>00169       <span class="comment">//to get everything up to seconds in nanosecs.</span>
<a name="l00170"></a>00170       LCTime init(  (timestampymd &gt;&gt; YEARSHIFT) &amp; 0xffff,
<a name="l00171"></a>00171                     (timestampymd &gt;&gt; MONTHSHIFT) &amp; 0xff,     
<a name="l00172"></a>00172                     (timestampymd &gt;&gt; DAYSHIFT) &amp; 0xff,     
<a name="l00173"></a>00173                     (timestamphms &gt;&gt; HOURSHIFT) &amp; 0xff,     
<a name="l00174"></a>00174                     (timestamphms &gt;&gt; MINUTESHIFT) &amp; 0xff,     
<a name="l00175"></a>00175                     (timestamphms &gt;&gt; SECONDSHIFT) &amp; 0xff );
<a name="l00176"></a>00176       LCTime finaltime(init.timeStamp());
<a name="l00177"></a>00177       <span class="keywordflow">return</span> finaltime;
<a name="l00178"></a>00178       
<a name="l00179"></a>00179       }
<a name="l00180"></a>00180     
<a name="l00181"></a>00181 
<a name="l00183"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a42eda9586c276839882ec1f5529cb3b1">00183</a>     <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html" title="Interface Class to access the ScintCaloSlowReadout Data Here we handle ahc voltages...">ScintCaloSlowReadoutModBlock</a>&amp; <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a42eda9586c276839882ec1f5529cb3b1" title="Store the LED setting.">setLedSetting</a>(<span class="keywordtype">int</span> ledsetting) {
<a name="l00184"></a>00184       <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>()-&gt;setIntVal(kIntSroModLedSetting, ledsetting);
<a name="l00185"></a>00185       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00186"></a>00186       } 
<a name="l00187"></a>00187 
<a name="l00188"></a>00188     
<a name="l00189"></a>00189     
<a name="l00191"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a311abba4d4914dbe227edd64adcbdaa4">00191</a>     <span class="keywordtype">int</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a311abba4d4914dbe227edd64adcbdaa4" title="Retrieve the LED setting.">getLedSetting</a>()<span class="keyword"> const </span>{
<a name="l00192"></a>00192       <span class="keywordflow">return</span> getIntVal(kIntSroModLedSetting);
<a name="l00193"></a>00193     }
<a name="l00194"></a>00194     
<a name="l00196"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#aca38297405bcbb78df316573653bab4b">00196</a>     <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html" title="Interface Class to access the ScintCaloSlowReadout Data Here we handle ahc voltages...">ScintCaloSlowReadoutModBlock</a> &amp; <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#aca38297405bcbb78df316573653bab4b" title="Store the CMB width.">setCmbWidth</a>(<span class="keywordtype">int</span> cmbwidth) {
<a name="l00197"></a>00197       <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>()-&gt;setIntVal(kIntSroModCmbWidth, cmbwidth);
<a name="l00198"></a>00198       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00199"></a>00199     }
<a name="l00200"></a>00200     
<a name="l00202"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a0842d4abcf4aa03079768716cadb56ec">00202</a>     <span class="keywordtype">int</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a0842d4abcf4aa03079768716cadb56ec" title="Retrieve the CMB width.">getCmbWidth</a>()<span class="keyword"> const </span>{
<a name="l00203"></a>00203       <span class="keywordflow">return</span> getIntVal(kIntSroModCmbWidth);
<a name="l00204"></a>00204     }  
<a name="l00205"></a>00205     
<a name="l00207"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a5b818c27aaaf267d158a4630217761b3">00207</a>     <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html" title="Interface Class to access the ScintCaloSlowReadout Data Here we handle ahc voltages...">ScintCaloSlowReadoutModBlock</a> &amp; <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a5b818c27aaaf267d158a4630217761b3" title="Store the CMB height.">setCmbHeight</a>(<span class="keywordtype">int</span> cmbheight) {
<a name="l00208"></a>00208       <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>()-&gt;setIntVal(kIntSroModCmbHeight, cmbheight);
<a name="l00209"></a>00209       <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00210"></a>00210       }  
<a name="l00211"></a>00211     
<a name="l00213"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ab7d558c828cc3a6009f698c8e2b87768">00213</a>     <span class="keywordtype">int</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ab7d558c828cc3a6009f698c8e2b87768" title="Retrieve the CMB height.">getCmbHeight</a>()<span class="keyword"> const </span>{
<a name="l00214"></a>00214       <span class="keywordflow">return</span> getIntVal(kIntSroModCmbHeight);
<a name="l00215"></a>00215       }  
<a name="l00216"></a>00216     
<a name="l00218"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a4ff51ac1f15effbab45d293201dbe7dd">00218</a>     std::vector&lt;double&gt;&amp; <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a4ff51ac1f15effbab45d293201dbe7dd" title="Retrieve the cmb temperatures.">getCmbTemperatures</a>() { <span class="keywordflow">return</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ac82c110e1e9a6b9e5777bab38b664381" title="The output vectors which are common to all data types cmb Temperatures.">_cmbTemperatures</a>;}     
<a name="l00219"></a>00219 
<a name="l00221"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a607f2fdce6c9e458dca76b25bc09ecfd">00221</a>     std::vector&lt;double&gt;&amp; <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a607f2fdce6c9e458dca76b25bc09ecfd" title="Retrieve the cmb voltages.">getCmbVoltages</a>() { <span class="keywordflow">return</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#afeb1bd98453813e87c093badf29ee0e3" title="cmb Voltages">_cmbVoltages</a>;}     
<a name="l00222"></a>00222     
<a name="l00224"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a8b3e2f65c115cefb73703b361ae308bb">00224</a>     std::vector&lt;double&gt;&amp; <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a8b3e2f65c115cefb73703b361ae308bb" title="Retrieve the hbab voltages.">getHbabVoltages</a>() { <span class="keywordflow">return</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#acd246a5dcd8786a5105f055087fce3a9" title="hbab voltages">_hbabVoltages</a>;}     
<a name="l00225"></a>00225 
<a name="l00226"></a>00226 
<a name="l00231"></a>00231     <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a6b20e3d04245f9dcb191738e6fa84625" title="These methods obtain the vectors with the measured values Mainly to store large arrays...">setDblArrays</a>(<span class="keyword">const</span> <a class="code" href="namespaceCALICE.html#a3e5e6d5badfe7d664c707772da688021" title="The map which contains the measured values of the different types.">ScintCaloSlowMeasuresDblMap_t</a>&amp;);
<a name="l00232"></a>00232     <span class="keywordtype">void</span> setIntArrays(<span class="keyword">const</span> ScintCaloSlowMeasuresIntMap_t&amp;);
<a name="l00233"></a>00233     <span class="keywordtype">void</span> setFloatArrays(<span class="keyword">const</span> ScintCaloSlowMeasuresFloatMap_t&amp;);
<a name="l00234"></a>00234     
<a name="l00235"></a>00235     
<a name="l00237"></a>00237     <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#af128d26796f6a009d9c0777947c7d050" title="convenient print method">print</a>(std::ostream&amp;);
<a name="l00238"></a>00238     
<a name="l00239"></a>00239     
<a name="l00240"></a>00240     
<a name="l00241"></a>00241     <span class="comment">// -------- need to implement abstract methods from LCGenericObject</span>
<a name="l00242"></a>00242     
<a name="l00245"></a>00245     <span class="keyword">virtual</span> <span class="keyword">const</span> std::string <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a87ebbc1304f9fb176fb7f47ddc9cf10d" title="Return the type of the class.">getTypeName</a>() <span class="keyword">const</span> = 0;
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 
<a name="l00248"></a>00248     <span class="keyword">virtual</span> <span class="keyword">const</span> std::string getDataDescription() <span class="keyword">const</span> = 0;    
<a name="l00249"></a>00249     
<a name="l00250"></a>00250   <span class="keyword">private</span>:
<a name="l00251"></a>00251     
<a name="l00253"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a0952a8404091ec428442f58621c9af6c">00253</a>     <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a0952a8404091ec428442f58621c9af6c" title="Store the position and number of measured values for a given datatype.">setNumPos</a>(<span class="keywordtype">int</span> posindex, <span class="keywordtype">int</span> pos, <span class="keywordtype">int</span> numvals){
<a name="l00254"></a>00254       <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>()-&gt;setIntVal(posindex, pos);
<a name="l00255"></a>00255       <a class="code" href="classCALICE_1_1LCGenericObjectImplExt.html#a7a6258e61fee4d6c67481e9e58a6062d" title="The LCGenericObjectImpl .">obj</a>()-&gt;setIntVal(posindex+1, numvals);
<a name="l00256"></a>00256     }
<a name="l00257"></a>00257 
<a name="l00259"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#aefa0f2c3640aa971981dfc59809170d2">00259</a>     <span class="keywordtype">int</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#aefa0f2c3640aa971981dfc59809170d2" title="get the position of the given datatype within the array of values">getPos</a>(<span class="keywordtype">int</span> posindex) {
<a name="l00260"></a>00260       <span class="keywordflow">return</span> getIntVal(posindex);
<a name="l00261"></a>00261       }
<a name="l00262"></a>00262     
<a name="l00264"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ae0b136a5273b805fad5704c60c2620c6">00264</a>     <span class="keywordtype">int</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ae0b136a5273b805fad5704c60c2620c6" title="Retrieve the number of measured values for a given datatype.">getNum</a>(<span class="keywordtype">int</span> posindex)<span class="keyword"> const </span>{
<a name="l00265"></a>00265       <span class="keywordflow">return</span> getIntVal(posindex+1);
<a name="l00266"></a>00266       }
<a name="l00267"></a>00267 
<a name="l00268"></a>00268   <span class="keyword">protected</span>:
<a name="l00269"></a>00269 
<a name="l00271"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a618844fb074bc7894ee56ae9bff3838b">00271</a>       <span class="keyword">typedef</span> std::map&lt;string, std::pair&lt;int, std::vector&lt;double&gt;* &gt; &gt; <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a618844fb074bc7894ee56ae9bff3838b" title="Relation between the datatype its position among the tuple of double vals and the...">ScintCaloSroTypesDblMap_t</a>;
<a name="l00272"></a>00272       <span class="keyword">typedef</span> std::map&lt;string, std::pair&lt;int, std::vector&lt;int&gt;* &gt; &gt; ScintCaloSroTypesIntMap_t;
<a name="l00273"></a>00273       <span class="keyword">typedef</span> std::map&lt;string, std::pair&lt;int, std::vector&lt;float&gt;* &gt; &gt; ScintCaloSroTypesFloatMap_t;
<a name="l00274"></a>00274 
<a name="l00277"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ad686569c2554ac08105baba87a310036">00277</a>     <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a618844fb074bc7894ee56ae9bff3838b" title="Relation between the datatype its position among the tuple of double vals and the...">ScintCaloSroTypesDblMap_t</a> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ad686569c2554ac08105baba87a310036" title="The vector which contains the types and to the position and values of the types doubles...">_theDblTypes</a>;
<a name="l00278"></a>00278     <span class="comment">/*ints*/</span>  
<a name="l00279"></a>00279     ScintCaloSroTypesIntMap_t _theIntTypes;
<a name="l00280"></a>00280     <span class="comment">/*floats*/</span>
<a name="l00281"></a>00281     ScintCaloSroTypesFloatMap_t _theFloatTypes;
<a name="l00282"></a>00282 
<a name="l00285"></a>00285     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a2e96bd4a6dfb1b73e04b1ac39b910389" title="This method defines the (general) types of the measured values and is specific to...">setTypes</a>()=0;     
<a name="l00286"></a>00286     
<a name="l00288"></a>00288     <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#a32ae5a16700b2ac76fefd8f04266451a" title="A method which prepares the output vectors.">prepareOutputVecs</a>();
<a name="l00289"></a>00289     
<a name="l00292"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ac82c110e1e9a6b9e5777bab38b664381">00292</a>     std::vector&lt;double&gt; <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#ac82c110e1e9a6b9e5777bab38b664381" title="The output vectors which are common to all data types cmb Temperatures.">_cmbTemperatures</a>;
<a name="l00294"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#afeb1bd98453813e87c093badf29ee0e3">00294</a>     std::vector&lt;double&gt; <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#afeb1bd98453813e87c093badf29ee0e3" title="cmb Voltages">_cmbVoltages</a>; 
<a name="l00296"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#acd246a5dcd8786a5105f055087fce3a9">00296</a>     std::vector&lt;double&gt; <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#acd246a5dcd8786a5105f055087fce3a9" title="hbab voltages">_hbabVoltages</a>;
<a name="l00297"></a>00297     
<a name="l00299"></a><a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#af59b8fce28e5189331c3396c968ec294">00299</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classCALICE_1_1ScintCaloSlowReadoutModBlock.html#af59b8fce28e5189331c3396c968ec294" title="Variables to indicate the start of the actual data.">_startOfDoubles</a>;    
<a name="l00300"></a>00300     <span class="keywordtype">unsigned</span> _startOfFloats;    
<a name="l00301"></a>00301     <span class="keywordtype">unsigned</span> _startOfInts;    
<a name="l00302"></a>00302 
<a name="l00303"></a>00303   }; <span class="comment">// class</span>
<a name="l00304"></a>00304   
<a name="l00305"></a>00305 }
<a name="l00306"></a>00306 <span class="preprocessor">#endif </span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Dec 2017 for CALICE_USERLIB by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
