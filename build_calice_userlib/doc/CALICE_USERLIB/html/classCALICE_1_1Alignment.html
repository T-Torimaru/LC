<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CALICE_USERLIB: CALICE::Alignment Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceCALICE.html">CALICE</a>::<a class="el" href="classCALICE_1_1Alignment.html">Alignment</a>
  </div>
</div>
<div class="contents">
<h1>CALICE::Alignment Class Reference</h1><!-- doxytag: class="CALICE::Alignment" -->
<p>Class to comunicate/handle the translation into unique layer/cell ids and 3D spacial coordinates.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Alignment_8hh_source.html">Alignment.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CALICE::Alignment:</div>
<div class="dynsection">
 <div class="center">
  <img src="classCALICE_1_1Alignment.gif" usemap="#CALICE::Alignment_map" alt=""/>
  <map id="CALICE::Alignment_map" name="CALICE::Alignment_map">
<area href="classCALICE_1_1MappingAndAlignment.html" alt="CALICE::MappingAndAlignment" shape="rect" coords="0,56,190,80"/>
</map>
 </div>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a9301ea57c3cf0bf16154f67e45023385">Alignment</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">default constructor.  <a href="#a9301ea57c3cf0bf16154f67e45023385"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adad093be57011962ceaa0dc6fd597759"></a><!-- doxytag: member="CALICE::Alignment::init" ref="adad093be57011962ceaa0dc6fd597759" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#adad093be57011962ceaa0dc6fd597759">init</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Does nothing for the time being. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UInt_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#add6b290637455010456ce6f643ccb34f">getGeometricalCellIndex</a> (UInt_t module_index, UInt_t cell_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the unique cell index of the cell specified by the module and the cell index.  <a href="#add6b290637455010456ce6f643ccb34f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a3b3a82a744ce67860086203baef3ddff">isValid</a> (UInt_t module_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return true if the type of the given module is valid.  <a href="#a3b3a82a744ce67860086203baef3ddff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UChar_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a6347626acbfc5dfcbca3c97c89fcad70">getModuleType</a> (UInt_t module_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the type of a certain module.  <a href="#a6347626acbfc5dfcbca3c97c89fcad70"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ddad6c8a5aeaed18d3529d212d3ba1b"></a><!-- doxytag: member="CALICE::Alignment::getPosition" ref="a3ddad6c8a5aeaed18d3529d212d3ba1b" args="(UInt_t module_index, UInt_t cell_index) const " -->
<a class="el" href="classCALICE_1_1NVector__t.html">ThreeVector_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>getPosition</b> (UInt_t module_index, UInt_t cell_index) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a77b2bfc80a819a597a8e451a2bbf7655"></a><!-- doxytag: member="CALICE::Alignment::transformPosition" ref="a77b2bfc80a819a597a8e451a2bbf7655" args="(ThreeVector_t &amp;a_position) const " -->
<a class="el" href="classCALICE_1_1NVector__t.html">ThreeVector_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>transformPosition</b> (<a class="el" href="classCALICE_1_1NVector__t.html">ThreeVector_t</a> &amp;a_position) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a439df763fea328d7f58336f3b97ca786"></a><!-- doxytag: member="CALICE::Alignment::getNModules" ref="a439df763fea328d7f58336f3b97ca786" args="() const " -->
UInt_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>getNModules</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4860425f1c86fbc897920647f0dd7451"></a><!-- doxytag: member="CALICE::Alignment::isModule" ref="a4860425f1c86fbc897920647f0dd7451" args="(UInt_t module_index) const " -->
Bool_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a4860425f1c86fbc897920647f0dd7451">isModule</a> (UInt_t module_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return false if the module index is out of range. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classCALICE_1_1ModuleDescription.html">ModuleDescription</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a6ac1899ddab2b35464b85ec39a67ede7">getModuleDescription</a> (UInt_t module_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the description object for the given module.  <a href="#a6ac1899ddab2b35464b85ec39a67ede7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67d96a33524e3dd7e4c151943caa103c"></a><!-- doxytag: member="CALICE::Alignment::getNCellsPerModule" ref="a67d96a33524e3dd7e4c151943caa103c" args="(UInt_t module_index) const " -->
UInt_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>getNCellsPerModule</b> (UInt_t module_index) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a3b34cd5399e9d4c6c34737314a42e7"></a><!-- doxytag: member="CALICE::Alignment::getModuleWidth" ref="a2a3b34cd5399e9d4c6c34737314a42e7" args="(UInt_t module_index) const " -->
Float_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a2a3b34cd5399e9d4c6c34737314a42e7">getModuleWidth</a> (UInt_t module_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the cell width of the given module and cell. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5112553b1a361f609e186c85f97d0f7f"></a><!-- doxytag: member="CALICE::Alignment::getModuleHeight" ref="a5112553b1a361f609e186c85f97d0f7f" args="(UInt_t module_index) const " -->
Float_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a5112553b1a361f609e186c85f97d0f7f">getModuleHeight</a> (UInt_t module_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the cell width of the given module and cell. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ed4ffe8bed99bed35d69c0ac431bc67"></a><!-- doxytag: member="CALICE::Alignment::getCellWidth" ref="a7ed4ffe8bed99bed35d69c0ac431bc67" args="(UInt_t module_index, UInt_t cell_index) const " -->
Float_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a7ed4ffe8bed99bed35d69c0ac431bc67">getCellWidth</a> (UInt_t module_index, UInt_t cell_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the cell width of the given module and cell. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Float_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a84ad3b3ffba7850de98971a51eeba82f">getCellHeight</a> (UInt_t module_index, UInt_t cell_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the cell width of the given module.  <a href="#a84ad3b3ffba7850de98971a51eeba82f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8264e5dd81a84e2362f8cc4d26a4c41f"></a><!-- doxytag: member="CALICE::Alignment::getPosition" ref="a8264e5dd81a84e2362f8cc4d26a4c41f" args="() const " -->
<a class="el" href="classCALICE_1_1NVector__t.html">ThreeVector_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a8264e5dd81a84e2362f8cc4d26a4c41f">getPosition</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the position of the detector in its proper coordinate system. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a696dfaa32cdaf473b07c981934598958"></a><!-- doxytag: member="CALICE::Alignment::getModuleProperCenter" ref="a696dfaa32cdaf473b07c981934598958" args="(UInt_t module_index) const " -->
<a class="el" href="classCALICE_1_1NVector__t.html">ThreeVector_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a696dfaa32cdaf473b07c981934598958">getModuleProperCenter</a> (UInt_t module_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the upper right corner of a module. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab46ad7e1e3e78dc47fcc4549a231c23e"></a><!-- doxytag: member="CALICE::Alignment::getModuleProperPosition" ref="ab46ad7e1e3e78dc47fcc4549a231c23e" args="(UInt_t module_index) const " -->
<a class="el" href="classCALICE_1_1NVector__t.html">ThreeVector_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#ab46ad7e1e3e78dc47fcc4549a231c23e">getModuleProperPosition</a> (UInt_t module_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the position of a module in the proper coordinate system of the detector. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ecf26def8a818e1f6035c9e18653d28"></a><!-- doxytag: member="CALICE::Alignment::getModulePosition" ref="a1ecf26def8a818e1f6035c9e18653d28" args="(UInt_t module_index) const " -->
<a class="el" href="classCALICE_1_1NVector__t.html">ThreeVector_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a1ecf26def8a818e1f6035c9e18653d28">getModulePosition</a> (UInt_t module_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the position of a module in the reference coordinate system. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4dd6c5cde6371a0b26c6438adf54414f"></a><!-- doxytag: member="CALICE::Alignment::getModuleCenter" ref="a4dd6c5cde6371a0b26c6438adf54414f" args="(UInt_t module_index) const " -->
<a class="el" href="classCALICE_1_1NVector__t.html">ThreeVector_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a4dd6c5cde6371a0b26c6438adf54414f">getModuleCenter</a> (UInt_t module_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the center of a module in the reference coordinate system. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10d5e1ddf0c26a74421c22774248671d"></a><!-- doxytag: member="CALICE::Alignment::getDetectorAngleZX" ref="a10d5e1ddf0c26a74421c22774248671d" args="() const " -->
Float_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a10d5e1ddf0c26a74421c22774248671d">getDetectorAngleZX</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the effective rotation angle of the detector. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#adc041696a184db384a57bca51df7bc25">moduleTypeChanged</a> (lcio::LCCollection *col)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inform the object about changes of the module types.  <a href="#adc041696a184db384a57bca51df7bc25"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a3ea188d0a90c7e0881d735cf55ef5604">moduleLocationChanged</a> (lcio::LCCollection *col)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inform the object about changes of the module locations.  <a href="#a3ea188d0a90c7e0881d735cf55ef5604"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#ab018d115126785360ec8e70fb710409b">stagePositionChanged</a> (lcio::LCCollection *col)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inform the object about changes in the stage positions on which the detector is mounted.  <a href="#ab018d115126785360ec8e70fb710409b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a85a9ad1e7e95e2ade18f30e6373eadfa">detectorTransformation</a> (lcio::LCCollection *col)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inform the object about changes of the detector position and rotation.  <a href="#a85a9ad1e7e95e2ade18f30e6373eadfa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#aedf5694bbb286510411e1de986e51ac5">referenceTransformation</a> (lcio::LCCollection *col)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inform the object about changes of the reference position and rotation.  <a href="#aedf5694bbb286510411e1de986e51ac5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad07573bf525c2271792bc040242632a2"></a><!-- doxytag: member="CALICE::Alignment::getCellIndexOffset" ref="ad07573bf525c2271792bc040242632a2" args="(UInt_t module_index) const " -->
UInt_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#ad07573bf525c2271792bc040242632a2">getCellIndexOffset</a> (UInt_t module_index) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the cell index offset of a module. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classSimpleArray__t.html">SimpleArray_t</a>&lt; pair<br class="typebreak"/>
&lt; UInt_t, <a class="el" href="classCALICE_1_1ModuleLocation.html">ModuleLocation</a> &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#ad0153c70861a5bc9976bc21983ac319f">ModuleList_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Defined module locations (not necessarily connected to a front-end.  <a href="#ad0153c70861a5bc9976bc21983ac319f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10d63d19612d0b5384bfc7f9b7f84bbd"></a><!-- doxytag: member="CALICE::Alignment::ModuleTypeList_t" ref="a10d63d19612d0b5384bfc7f9b7f84bbd" args="" -->
typedef <a class="el" href="classSimpleArray__t.html">SimpleArray_t</a><br class="typebreak"/>
&lt; <a class="el" href="classCALICE_1_1ModuleDescription.html">ModuleDescription</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>ModuleTypeList_t</b></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7038cce4a5b2baf25597867f0b5407c5"></a><!-- doxytag: member="CALICE::Alignment::_moduleLocationList" ref="a7038cce4a5b2baf25597867f0b5407c5" args="" -->
<a class="el" href="classSimpleArray__t.html">ModuleList_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>_moduleLocationList</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a975a8333c0f374f44dee0fa6c37cf732"></a><!-- doxytag: member="CALICE::Alignment::_moduleTypeList" ref="a975a8333c0f374f44dee0fa6c37cf732" args="" -->
<a class="el" href="classSimpleArray__t.html">ModuleTypeList_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>_moduleTypeList</b></td></tr>
<tr><td colspan="2"><h2>Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>ETransformation</b> { <b>kDetector</b>, 
<b>kReference</b>, 
<b>kEffective</b>, 
<b>kNTransformations</b>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5131ddec8fd42fefa45de5826aecd4c1"></a><!-- doxytag: member="CALICE::Alignment::StageChangeHandleFunc_t" ref="a5131ddec8fd42fefa45de5826aecd4c1" args=")(lcio::LCCollection *col)" -->
typedef void(Alignment::*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a5131ddec8fd42fefa45de5826aecd4c1">StageChangeHandleFunc_t</a> )(lcio::LCCollection *col)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A map which holds pointers to functions to access the parameters of teh movable stage(s). <br/></td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb7fd43e529d374f41e8be0a1610faf9"></a><!-- doxytag: member="CALICE::Alignment::setTransformation" ref="adb7fd43e529d374f41e8be0a1610faf9" args="(lcio::LCCollection *col, ETransformation transformation_type)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#adb7fd43e529d374f41e8be0a1610faf9">setTransformation</a> (lcio::LCCollection *col, ETransformation transformation_type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the transformation parameters from the conditions data collection. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#af778a021450c0087cbf459eb291aa8f1">calculateEffectiveTransformation</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculate the effective transformation from the detector and reference transformation.  <a href="#af778a021450c0087cbf459eb291aa8f1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf5097c7e86a04e285cd59ddf8848c47"></a><!-- doxytag: member="CALICE::Alignment::handleEmcStage" ref="abf5097c7e86a04e285cd59ddf8848c47" args="(LCCollection *)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>handleEmcStage</b> (LCCollection *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a907fd80bfc25e5f98b6ebab3fb7533fa"></a><!-- doxytag: member="CALICE::Alignment::handleAhcStage" ref="a907fd80bfc25e5f98b6ebab3fb7533fa" args="(LCCollection *)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>handleAhcStage</b> (LCCollection *)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f73f5a4df2e1b7fd2a3da7c99d70d51"></a><!-- doxytag: member="CALICE::Alignment::_detectorPos" ref="a6f73f5a4df2e1b7fd2a3da7c99d70d51" args="[kNTransformations][3]" -->
Float_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a6f73f5a4df2e1b7fd2a3da7c99d70d51">_detectorPos</a> [kNTransformations][3]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the position of the detector <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Float_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a7580f22b535e4538967b0ef80f22f3ed">_detectorAngleZX</a> [kNTransformations]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">configuration angle w.r.t.  <a href="#a7580f22b535e4538967b0ef80f22f3ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a398120953f6f68d96563c57dd95e12aa"></a><!-- doxytag: member="CALICE::Alignment::_detectorAngleZXSin" ref="a398120953f6f68d96563c57dd95e12aa" args="" -->
Double_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a398120953f6f68d96563c57dd95e12aa">_detectorAngleZXSin</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">sin of the effective rotation angle in the z-x plane <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b7a1cc57b53c53a0f251dae7782f675"></a><!-- doxytag: member="CALICE::Alignment::_detectorAngleZXCos" ref="a4b7a1cc57b53c53a0f251dae7782f675" args="" -->
Double_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a4b7a1cc57b53c53a0f251dae7782f675">_detectorAngleZXCos</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">cos of the effective rotation angle in the z-x plane <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5b7bee79b2ad35a2e7b128f841a1fd64"></a><!-- doxytag: member="CALICE::Alignment::_detectorRotationX0" ref="a5b7bee79b2ad35a2e7b128f841a1fd64" args="[kNTransformations]" -->
Float_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a5b7bee79b2ad35a2e7b128f841a1fd64">_detectorRotationX0</a> [kNTransformations]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">origin of the detector ratation (x-direction) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2faba0894844b8779abd31d7e8a56854"></a><!-- doxytag: member="CALICE::Alignment::_detectorRotationZ0" ref="a2faba0894844b8779abd31d7e8a56854" args="[kNTransformations]" -->
Float_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a2faba0894844b8779abd31d7e8a56854">_detectorRotationZ0</a> [kNTransformations]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">origin of the detector ratation (z-direction) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b409667846fdd3b1b36abca4e74ba8d"></a><!-- doxytag: member="CALICE::Alignment::_knownStageTypes" ref="a3b409667846fdd3b1b36abca4e74ba8d" args="" -->
std::map&lt; std::string, <br class="typebreak"/>
<a class="el" href="classCALICE_1_1Alignment.html#a5131ddec8fd42fefa45de5826aecd4c1">StageChangeHandleFunc_t</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>_knownStageTypes</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38bc228c141775137178ab1c171a4c92"></a><!-- doxytag: member="CALICE::Alignment::_stageOffset_x" ref="a38bc228c141775137178ab1c171a4c92" args="" -->
float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Alignment.html#a38bc228c141775137178ab1c171a4c92">_stageOffset_x</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The offsets due to the movable stage. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a734151cd0b80de77cd16cce5b7ae9106"></a><!-- doxytag: member="CALICE::Alignment::_stageOffset_y" ref="a734151cd0b80de77cd16cce5b7ae9106" args="" -->
float&nbsp;</td><td class="memItemRight" valign="bottom"><b>_stageOffset_y</b></td></tr>
<tr><td colspan="2"><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af48cedd060a33b725e5f14f81f3033d1"></a><!-- doxytag: member="CALICE::Alignment::__degToRad" ref="af48cedd060a33b725e5f14f81f3033d1" args="" -->
static const Double_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>__degToRad</b> = M_PI/180.</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class to comunicate/handle the translation into unique layer/cell ids and 3D spacial coordinates. </p>
<p>The class has to be informed about changes of the detector configuration using the methods <a class="el" href="classCALICE_1_1Alignment.html#adc041696a184db384a57bca51df7bc25">CALICE::Alignment::moduleTypeChanged</a>, <a class="el" href="classCALICE_1_1Alignment.html#a3ea188d0a90c7e0881d735cf55ef5604">CALICE::Alignment::moduleLocationChanged</a>, <a class="el" href="classCALICE_1_1MappingAndAlignment.html#a3717c2ea27a5a60ff2a41d17803ff148">CALICE::MappingAndAlignment::moduleConnectionChanged</a> and Alignment::experimentalSetup. This information is used to map the DAQ signals to cells and calculate 3D spacial coordinates for hits.</p>
<p>The class performs range checks only if BOUNDARY_CHECK is defined. </p>

<p>Definition at line <a class="el" href="Alignment_8hh_source.html#l00042">42</a> of file <a class="el" href="Alignment_8hh_source.html">Alignment.hh</a>.</p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="ad0153c70861a5bc9976bc21983ac319f"></a><!-- doxytag: member="CALICE::Alignment::ModuleList_t" ref="ad0153c70861a5bc9976bc21983ac319f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classSimpleArray__t.html">SimpleArray_t</a>&lt;pair&lt;UInt_t,<a class="el" href="classCALICE_1_1ModuleLocation.html">ModuleLocation</a>&gt; &gt; <a class="el" href="classSimpleArray__t.html">CALICE::Alignment::ModuleList_t</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Defined module locations (not necessarily connected to a front-end. </p>
<p>First component contains the module ID, the second the module location information. </p>

<p>Definition at line <a class="el" href="Alignment_8hh_source.html#l00475">475</a> of file <a class="el" href="Alignment_8hh_source.html">Alignment.hh</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9301ea57c3cf0bf16154f67e45023385"></a><!-- doxytag: member="CALICE::Alignment::Alignment" ref="a9301ea57c3cf0bf16154f67e45023385" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CALICE::Alignment::Alignment </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>default constructor. </p>
<p>The default constructor configures the conditions data change delegators. </p>

<p>Definition at line <a class="el" href="Alignment_8cc_source.html#l00029">29</a> of file <a class="el" href="Alignment_8cc_source.html">Alignment.cc</a>.</p>

<p>References <a class="el" href="Alignment_8cc_source.html#l00111">setTransformation()</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af778a021450c0087cbf459eb291aa8f1"></a><!-- doxytag: member="CALICE::Alignment::calculateEffectiveTransformation" ref="af778a021450c0087cbf459eb291aa8f1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALICE::Alignment::calculateEffectiveTransformation </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculate the effective transformation from the detector and reference transformation. </p>

<p>Definition at line <a class="el" href="Alignment_8cc_source.html#l00171">171</a> of file <a class="el" href="Alignment_8cc_source.html">Alignment.cc</a>.</p>

<p>References <a class="el" href="Alignment_8hh_source.html#l00501">_detectorAngleZX</a>, <a class="el" href="Alignment_8hh_source.html#l00503">_detectorAngleZXCos</a>, <a class="el" href="Alignment_8hh_source.html#l00502">_detectorAngleZXSin</a>, <a class="el" href="Alignment_8hh_source.html#l00500">_detectorPos</a>, <a class="el" href="Alignment_8hh_source.html#l00505">_detectorRotationX0</a>, and <a class="el" href="Alignment_8hh_source.html#l00506">_detectorRotationZ0</a>.</p>

<p>Referenced by <a class="el" href="Alignment_8cc_source.html#l00111">setTransformation()</a>.</p>

</div>
</div>
<a class="anchor" id="a85a9ad1e7e95e2ade18f30e6373eadfa"></a><!-- doxytag: member="CALICE::Alignment::detectorTransformation" ref="a85a9ad1e7e95e2ade18f30e6373eadfa" args="(lcio::LCCollection *col)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CALICE::Alignment::detectorTransformation </td>
          <td>(</td>
          <td class="paramtype">lcio::LCCollection *&nbsp;</td>
          <td class="paramname"> <em>col</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inform the object about changes of the detector position and rotation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>col</em>&nbsp;</td><td>collection of <a class="el" href="classCALICE_1_1DetectorTransformation.html">DetectorTransformation</a> objects This class must be called before querying the postion of cells. The position is calculated in the reference coorindate system. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Alignment_8hh_source.html#l00457">457</a> of file <a class="el" href="Alignment_8hh_source.html">Alignment.hh</a>.</p>

<p>References <a class="el" href="Alignment_8cc_source.html#l00111">setTransformation()</a>.</p>

</div>
</div>
<a class="anchor" id="a84ad3b3ffba7850de98971a51eeba82f"></a><!-- doxytag: member="CALICE::Alignment::getCellHeight" ref="a84ad3b3ffba7850de98971a51eeba82f" args="(UInt_t module_index, UInt_t cell_index) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Float_t CALICE::Alignment::getCellHeight </td>
          <td>(</td>
          <td class="paramtype">UInt_t&nbsp;</td>
          <td class="paramname"> <em>module_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt_t&nbsp;</td>
          <td class="paramname"> <em>cell_index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the cell width of the given module. </p>
<p>It is assumed that the cells of one module all have the same width. </p>

<p>Definition at line <a class="el" href="Alignment_8hh_source.html#l00325">325</a> of file <a class="el" href="Alignment_8hh_source.html">Alignment.hh</a>.</p>

</div>
</div>
<a class="anchor" id="add6b290637455010456ce6f643ccb34f"></a><!-- doxytag: member="CALICE::Alignment::getGeometricalCellIndex" ref="add6b290637455010456ce6f643ccb34f" args="(UInt_t module_index, UInt_t cell_index) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UInt_t CALICE::Alignment::getGeometricalCellIndex </td>
          <td>(</td>
          <td class="paramtype">UInt_t&nbsp;</td>
          <td class="paramname"> <em>module_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UInt_t&nbsp;</td>
          <td class="paramname"> <em>cell_index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the unique cell index of the cell specified by the module and the cell index. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>module_index</em>&nbsp;</td><td>unique index for modules which should run from 0..total number of modules </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cell_index</em>&nbsp;</td><td>within the module (0.. number of cells of this module type) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>unique cell index. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>range_error</em>&nbsp;</td><td>if the module index is out of range and BOUNDARY_CHECK is defined</td></tr>
  </table>
  </dd>
</dl>
<p>The cell index conforms to the Mokka specification (see for example <a class="el" href="classCALICE_1_1CellIndex.html">CellIndex</a>). It is composed of the layer number, the wafer column and row, and the pad column and row. </p>

<p>Definition at line <a class="el" href="Alignment_8hh_source.html#l00068">68</a> of file <a class="el" href="Alignment_8hh_source.html">Alignment.hh</a>.</p>

</div>
</div>
<a class="anchor" id="a6ac1899ddab2b35464b85ec39a67ede7"></a><!-- doxytag: member="CALICE::Alignment::getModuleDescription" ref="a6ac1899ddab2b35464b85ec39a67ede7" args="(UInt_t module_index) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCALICE_1_1ModuleDescription.html">ModuleDescription</a>&amp; CALICE::Alignment::getModuleDescription </td>
          <td>(</td>
          <td class="paramtype">UInt_t&nbsp;</td>
          <td class="paramname"> <em>module_index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the description object for the given module. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>module_index</em>&nbsp;</td><td>the index of the moduel. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Alignment_8hh_source.html#l00229">229</a> of file <a class="el" href="Alignment_8hh_source.html">Alignment.hh</a>.</p>

</div>
</div>
<a class="anchor" id="a6347626acbfc5dfcbca3c97c89fcad70"></a><!-- doxytag: member="CALICE::Alignment::getModuleType" ref="a6347626acbfc5dfcbca3c97c89fcad70" args="(UInt_t module_index) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UChar_t CALICE::Alignment::getModuleType </td>
          <td>(</td>
          <td class="paramtype">UInt_t&nbsp;</td>
          <td class="paramname"> <em>module_index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the type of a certain module. </p>
<p>The module type together with the module ID uniquly identifies a module. Different modules of one type always have different IDs but modules of different types may have the same ID. In case of the ECAL the module ID is the serial number of the PCBs. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>module_index</em>&nbsp;</td><td>the index of the module within the detector (not necessarily the same as the module ID) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the module type </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>range_error</em>&nbsp;</td><td>if the module specified by module_index is not defined but only if BOUNDARY_CHECK is defined. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd>getModuleID() </dd></dl>

<p>Definition at line <a class="el" href="Alignment_8hh_source.html#l00114">114</a> of file <a class="el" href="Alignment_8hh_source.html">Alignment.hh</a>.</p>

<p>Referenced by <a class="el" href="MappingAndAlignment_8cc_source.html#l00390">CALICE::MappingAndAlignment::print()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b3a82a744ce67860086203baef3ddff"></a><!-- doxytag: member="CALICE::Alignment::isValid" ref="a3b3a82a744ce67860086203baef3ddff" args="(UInt_t module_index) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CALICE::Alignment::isValid </td>
          <td>(</td>
          <td class="paramtype">UInt_t&nbsp;</td>
          <td class="paramname"> <em>module_index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return true if the type of the given module is valid. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>module_index</em>&nbsp;</td><td>the index of the given module. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Alignment_8hh_source.html#l00090">90</a> of file <a class="el" href="Alignment_8hh_source.html">Alignment.hh</a>.</p>

<p>Referenced by <a class="el" href="MappingAndAlignment_8cc_source.html#l00390">CALICE::MappingAndAlignment::print()</a>.</p>

</div>
</div>
<a class="anchor" id="a3ea188d0a90c7e0881d735cf55ef5604"></a><!-- doxytag: member="CALICE::Alignment::moduleLocationChanged" ref="a3ea188d0a90c7e0881d735cf55ef5604" args="(lcio::LCCollection *col)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALICE::Alignment::moduleLocationChanged </td>
          <td>(</td>
          <td class="paramtype">lcio::LCCollection *&nbsp;</td>
          <td class="paramname"> <em>col</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inform the object about changes of the module locations. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>col</em>&nbsp;</td><td>collection of <a class="el" href="classCALICE_1_1ModuleLocation.html">ModuleLocation</a> objects This class must be called before using any(most) of the other methods. The function call will cause a rebuild of the module DAQ front-end connection tree. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classCALICE_1_1MappingAndAlignment.html#ab9d17873aeb090388556547cb6b67ba8">CALICE::MappingAndAlignment</a>.</p>

<p>Definition at line <a class="el" href="Alignment_8cc_source.html#l00076">76</a> of file <a class="el" href="Alignment_8cc_source.html">Alignment.cc</a>.</p>

</div>
</div>
<a class="anchor" id="adc041696a184db384a57bca51df7bc25"></a><!-- doxytag: member="CALICE::Alignment::moduleTypeChanged" ref="adc041696a184db384a57bca51df7bc25" args="(lcio::LCCollection *col)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALICE::Alignment::moduleTypeChanged </td>
          <td>(</td>
          <td class="paramtype">lcio::LCCollection *&nbsp;</td>
          <td class="paramname"> <em>col</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inform the object about changes of the module types. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>col</em>&nbsp;</td><td>collection of <a class="el" href="classCALICE_1_1ModuleDescription.html">ModuleDescription</a> objects This class must be called before using any(most) of the other methods. The function call will cause a rebuild of the module DAQ front-end connection tree. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classCALICE_1_1MappingAndAlignment.html#a5564c399de481a023b702a39a04fea7f">CALICE::MappingAndAlignment</a>.</p>

<p>Definition at line <a class="el" href="Alignment_8cc_source.html#l00047">47</a> of file <a class="el" href="Alignment_8cc_source.html">Alignment.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aedf5694bbb286510411e1de986e51ac5"></a><!-- doxytag: member="CALICE::Alignment::referenceTransformation" ref="aedf5694bbb286510411e1de986e51ac5" args="(lcio::LCCollection *col)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CALICE::Alignment::referenceTransformation </td>
          <td>(</td>
          <td class="paramtype">lcio::LCCollection *&nbsp;</td>
          <td class="paramname"> <em>col</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inform the object about changes of the reference position and rotation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>col</em>&nbsp;</td><td>collection of <a class="el" href="classCALICE_1_1DetectorTransformation.html">DetectorTransformation</a> objects This class must be called before querying the postion of cells. The position is calculated in the reference coordinate system. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Alignment_8hh_source.html#l00466">466</a> of file <a class="el" href="Alignment_8hh_source.html">Alignment.hh</a>.</p>

<p>References <a class="el" href="Alignment_8cc_source.html#l00111">setTransformation()</a>.</p>

</div>
</div>
<a class="anchor" id="ab018d115126785360ec8e70fb710409b"></a><!-- doxytag: member="CALICE::Alignment::stagePositionChanged" ref="ab018d115126785360ec8e70fb710409b" args="(lcio::LCCollection *col)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALICE::Alignment::stagePositionChanged </td>
          <td>(</td>
          <td class="paramtype">lcio::LCCollection *&nbsp;</td>
          <td class="paramname"> <em>col</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inform the object about changes in the stage positions on which the detector is mounted. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>col</em>&nbsp;</td><td>collection of StageParameters objects This class must be called before calculating the actual cell positions The function will provide the xy values for a correct transversal alignment of the detectors. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Alignment_8cc_source.html#l00218">218</a> of file <a class="el" href="Alignment_8cc_source.html">Alignment.cc</a>.</p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a7580f22b535e4538967b0ef80f22f3ed"></a><!-- doxytag: member="CALICE::Alignment::_detectorAngleZX" ref="a7580f22b535e4538967b0ef80f22f3ed" args="[kNTransformations]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Float_t <a class="el" href="classCALICE_1_1Alignment.html#a7580f22b535e4538967b0ef80f22f3ed">CALICE::Alignment::_detectorAngleZX</a>[kNTransformations]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>configuration angle w.r.t. </p>
<p>to the beam axis in the horizontal plane </p>

<p>Definition at line <a class="el" href="Alignment_8hh_source.html#l00501">501</a> of file <a class="el" href="Alignment_8hh_source.html">Alignment.hh</a>.</p>

<p>Referenced by <a class="el" href="Alignment_8cc_source.html#l00171">calculateEffectiveTransformation()</a>, <a class="el" href="Alignment_8hh_source.html#l00426">getDetectorAngleZX()</a>, and <a class="el" href="Alignment_8cc_source.html#l00111">setTransformation()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Alignment_8hh_source.html">Alignment.hh</a></li>
<li><a class="el" href="Alignment_8cc_source.html">Alignment.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Dec 2017 for CALICE_USERLIB by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
